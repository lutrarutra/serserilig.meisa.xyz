{{template "base" .}}

{{define "content"}}
    {{$driversByID := index .Data "drivers_by_id"}}
    <div class="container">
        <table class="table table-dark table-striped align-middle">
            <thead>
            <tr>
                <th scope="col"></th>
                <th scope="col"></th>
                <th scope="col">Team</th>
                <th scope="col" style="text-align: right">Drivers</th>
                <th scope="col">Penalty Points</th>
            </tr>
            </thead>
            <tbody id="team-list">
            {{range .Teams}}
                {{$driver1 := index $driversByID .Driver1}}
                {{$driver2 := index $driversByID .Driver2}}
                <tr>
                    <td class="team-logo">
                        <img src="/static/images/team_logos/{{.Abbreviation}}.png" alt="{{.Abbreviation}}">
                    </td>
                    <td class="team-color"><div style="border-left: 3px solid {{.Color}}; height: 2em"></div></td>
                    <td class="team-name">{{.Name}}</td>
                    <td class="team-drivers">
                        <p class="team-driver">{{$driver1.Name}}</p>
                        <p class="team-driver">{{$driver2.Name}}</p>
                    </td>
                    <td class="team-driver-pp">
                        <p class="driver-pp">{{$driver1.PenaltyPoints}}</p>
                        <p class="driver-pp">{{$driver2.PenaltyPoints}}</p>
                    </td>
                </tr>
            {{end}}
            </tbody>
        </table>
    </div>
{{end}}

{{define "css"}}
    <style>

        table img {
            height: 36px
        }

        p {
            margin: 0
        }

        .team-logo {
            width: 5%
        }
        .team-name {
            width: 35%;
            font-size: 1.3em;
            font-weight: bold;
        }
        .team-drivers {
            text-align: right;
        }
    </style>
{{end}}

{{define "js"}}
    <script src="/static/js/public/grid.js"></script>
    
    <script>
        activateNav('nav-grid')

        greyOutNames()
        greyOutPP()
    </script>
{{end}}